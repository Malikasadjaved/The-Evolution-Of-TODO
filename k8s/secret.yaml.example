# ===============================================================================
# Kubernetes Secret Template for Todo Application
# ===============================================================================
# CRITICAL: This file is a TEMPLATE ONLY - never commit actual secrets to Git
# ===============================================================================

# To create the secret, run:
# kubectl create secret generic app-secrets \
#   --from-literal=DATABASE_URL="postgresql://user:pass@host/db?sslmode=require" \
#   --from-literal=BETTER_AUTH_SECRET="your-43-character-secret-key-here" \
#   --from-literal=OPENAI_API_KEY="sk-your-openai-api-key-here"

# Or use this YAML template (replace placeholders):
---
apiVersion: v1
kind: Secret
metadata:
  name: app-secrets
  labels:
    app: todo-app
    phase: iv
type: Opaque
stringData:
  # PostgreSQL connection string (Neon)
  # Get from: Neon dashboard â†’ Connection Details
  DATABASE_URL: "postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require"

  # Better Auth secret (43 characters, shared by backend and frontend-web)
  # Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
  # MUST match exactly between backend and frontend
  BETTER_AUTH_SECRET: "your-43-character-secret-key-replace-this-value"

  # OpenAI API key (for AI chatbot functionality)
  # Get from: https://platform.openai.com/api-keys
  OPENAI_API_KEY: "sk-your-openai-api-key-here"

# ===============================================================================
# Security Notes:
# ===============================================================================
# 1. NEVER commit this file with actual secrets to Git
# 2. Use kubectl to create secrets, not YAML files
# 3. Kubernetes encrypts secrets at rest in etcd
# 4. Secrets are base64-encoded (NOT encrypted) when using data: instead of stringData:
# 5. For production, use external secret management (Vault, AWS Secrets Manager, etc.)
# ===============================================================================

# Verification after creation:
# kubectl get secret app-secrets
# kubectl describe secret app-secrets  # Shows keys but not values
# ===============================================================================
